receivers: ["prometheus"]
test_case: "prometheus_stress"
validate_type: "stress"
data_type: "metrics"
metrics_config: "<metrics_config>"
scrape_interval: "<scrape_interval>"
agent_collection_period: 300
values_per_minute: "<values_per_minute>"

cloudwatch_agent_config: "<cloudwatch_agent_config>"

metric_namespace: "CloudWatchAgentStress"
metric_validation:
  - metric_name: "procstat_cpu_usage"
    metric_sample_count: 300
    metric_dimension:
      - name: "exe"
        value: "cloudwatch-agent"
      - name: "process_name"
        value: "amazon-cloudwatch-agent"
  - metric_name: "procstat_memory_rss"
    metric_sample_count: 300
    metric_dimension:
      - name: "exe"
        value: "cloudwatch-agent"
      - name: "process_name"
        value: "amazon-cloudwatch-agent"
  - metric_name: "procstat_memory_swap"
    metric_sample_count: 300
    metric_dimension:
      - name: "exe"
        value: "cloudwatch-agent"
      - name: "process_name"
        value: "amazon-cloudwatch-agent"
  - metric_name: "procstat_memory_vms"
    metric_sample_count: 300
    metric_dimension:
      - name: "exe"
        value: "cloudwatch-agent"
      - name: "process_name"
        value: "amazon-cloudwatch-agent"
  - metric_name: "procstat_memory_data"
    metric_sample_count: 300
    metric_dimension:
      - name: "exe"
        value: "cloudwatch-agent"
      - name: "process_name"
        value: "amazon-cloudwatch-agent"
  - metric_name: "procstat_num_fds"
    metric_sample_count: 300
    metric_dimension:
      - name: "exe"
        value: "cloudwatch-agent"
      - name: "process_name"
        value: "amazon-cloudwatch-agent"
  - metric_name: "net_bytes_sent"
    metric_sample_count: 300
    metric_dimension:
      - name: "interface"
        value: "eth0"
  - metric_name: "net_packets_sent"
    metric_sample_count: 300
    metric_dimension:
      - name: "interface"
        value: "eth0"