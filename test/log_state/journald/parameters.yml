# Journald log collection integration test

# Receivers that agent needs to test
receivers: ["journald"]

#Test case name
test_case: "journald_log_collection"
validate_type: "feature"
data_type: "logs"
number_monitored_logs: 1
values_per_minute: "5"
agent_collection_period: 60
cloudwatch_agent_config: "<cloudwatch_agent_config>"
metric_namespace: "CloudWatchAgentJournaldFeature"

# Journald-specific test units and filters
journald_units: ["systemd", "sshd"]
journald_filters:
  - type: "include"
    expression: "Started"
  - type: "exclude"
    expression: "debug"

# Test validation parameters
metric_validation:
log_validation:
  log_group_name: "journald-test-{instance_id}"
  log_stream_name: "{instance_id}"
  retention_in_days: 7
  expected_units: ["systemd", "sshd"]
  min_entries_per_unit: 3
  filter_validation:
    include_pattern: "Started"
    exclude_pattern: "debug"